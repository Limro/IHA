%1/sqrt(4)*[3 0 -1]'

%[8 5 -6]'-30/10*[3 0 -1]'

%[4 -1 2]'-((8+5+2)/(4+25+1))*[2 -5 1]'

% format rat
% 1/sqrt(30)*[2 -5 1]'
% 
% format short
% 1/(sqrt(9+9/4+9/4))*[3 1.5 1.5]'


%13
% A=[5 1 -3 1;9 7 -5 5]';
% Q=[5/6 1/6 -3/6 1/6; -1/6 5/6 1/6 3/6]';
% Q'*A

% %24
% A=[
%     -10 13  7   -11;
%     2   1   -5  3;
%     -6  3   13  -3; 
%     16  -16 -2  5;
%     2   1   -5  -7];
% 
% x1=A(:,1);
% x2=A(:,2);
% x3=A(:,3);
% x4=A(:,4);
% 
% v1=x1;
% v2=x2-(dot(x2,v1)/dot(v1,v1))*v1;
% v3=x3-(dot(x3,v2)/dot(v2,v2))*v2 - (dot(x3,v1)/dot(v1,v1))*v1;
% v4=x4-(dot(x4,v3)/dot(v3,v3))*v3- (dot(x4,v2)/dot(v2,v2))*v2 - (dot(x4,v1)/dot(v1,v1))*v1;
% vSpan=[v1 v2 v3 v4];
% format bank
% %[Q, R]= qr(A)
% [m n]=size(A); Q=zeros(m,n);R=zeros(n,n);
% for j=1:n
%     v=A(:,j);
%     for i=1:j-1
%         R(i,j)=Q(:,i)'*A(:,j);
%         v=v-R(i,j)*Q(:,i);
%     end
%     R(j,j)=norm(v);
%     Q(:,j)=v/R(j,j);
% end
% Q, R


%6.5
%1

% A=[-1 2 -1; 2 -3 3]'; b=[4; 1; 2];
% A'*A
% A'*b
% xHat=(A'*A)^(-1)*A'*b

% %3
% A=[1 -1 0 2;-2 2 3 5]'; b=[3 1 -4 2]';
% AtA = A'*A
% Atb = A'*b
% xHat=(A'*A)^(-1)*A'*b


% %9 
% A=[1 3 -2;5 1 4]'; b=[4 -2 -3]';
% a1=A(:,1); a2=A(:,2);
% Vinkel = dot(A(:,1),A(:,2))
% bHat=dot(b,a1)/dot(a1,a1)*a1+dot(b,a2)/dot(a2,a2)*a2
% dot(b,a1)/dot(a1,a1)
% dot(b,a2)/dot(a2,a2)

A=[
    -10 13  7   -11;
    2   1   -5  3;
    -6  3   13  -3; 
    16  -16 -2  5;
    2   1   -5  -7];
[v1, v2]=gs(A)


A=[1;-1];
b=[-1;3];

hat(b, A)