clc, clear
disp('Exercise 4.2')
% Construct the Galois field GF(2^5) generated by p(X) = 1 + X^2 + X^5, 
% showing a table with the polynomial and binary representations of 
% its elements

% p = [1 0 2 0 0 1];
% x = 0:3;
% m = 5; %log2(2^5)
% a = gf(p, m)
% b = a+a

m = 4;
order = 2^m-1;
p = [1 1 0 0 1];
pMod = [ 1 1 0 0 0];

exp = sym(zeros(m+2, 1));
for k=1:order
    exp(k+2,1) = sym(sprintf('a^%d', k));
end
exp(1,1) =sym(sprintf('0'));
exp(2,1) =sym(sprintf('1'));
exp;

pol = sym(zeros(order+2, m+1));

for l = 1:m
    pol(l+1,l) = 1;
end

for i = m+1:order+1
    tmp = circshift(pol(i,:),[1 1]);
    if tmp(1,end) == 1
        pol(i+1,:) = mod(tmp +pol(i+1,:) + pMod,2);
    else
        pol(i+1,:) = tmp;
    end
end

%pol(:,1:m)
disp('\alpha^2', 'texmode')
%table = [exp pol]